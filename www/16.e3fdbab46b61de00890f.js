(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{XTi3:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=u("Z2Br"),i=u("gIcY"),o=u("ZZ/e"),r=u("cdBk"),a=u("Yttj"),s=function(l,n,u,t){return new(u||(u=Promise))(function(e,i){function o(l){try{a(t.next(l))}catch(n){i(n)}}function r(l){try{a(t.throw(l))}catch(n){i(n)}}function a(l){l.done?e(l.value):new u(function(n){n(l.value)}).then(o,r)}a((t=t.apply(l,n||[])).next())})},b=function(l,n){var u,t,e,i,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(u)throw new TypeError("Generator is already executing.");for(;o;)try{if(u=1,t&&(e=2&i[0]?t.return:i[0]?t.throw||((e=t.return)&&e.call(t),0):t.next)&&!(e=e.call(t,i[1])).done)return e;switch(t=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){o.label=i[1];break}if(6===i[0]&&o.label<e[1]){o.label=e[1],e=i;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(i);break}e[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(l,o)}catch(r){i=[6,r],t=0}finally{u=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},c=function(){function l(l,n,u,t,e,i,o){this.imagePicker=l,this.toastCtrl=n,this.loadingCtrl=u,this.router=t,this.formBuilder=e,this.firebaseService=i,this.webview=o}return l.prototype.ngOnInit=function(){this.resetFields()},l.prototype.resetFields=function(){this.image="./assets/imgs/default_image.jpg",this.validations_form=this.formBuilder.group({title:new i.c("",i.l.required),description:new i.c("",i.l.required)})},l.prototype.onSubmit=function(l){var n=this;this.firebaseService.createTask({title:l.title,description:l.description,image:this.image}).then(function(l){n.router.navigate(["/home"])})},l.prototype.openImagePicker=function(){var l=this;this.imagePicker.hasReadPermission().then(function(n){0==n?l.imagePicker.requestReadPermission():1==n&&l.imagePicker.getPictures({maximumImagesCount:1}).then(function(n){for(var u=0;u<n.length;u++)l.uploadImageToFirebase(n[u])},function(l){return console.log(l)})},function(l){console.log(l)})},l.prototype.uploadImageToFirebase=function(l){return s(this,void 0,void 0,function(){var n,u,t,e,i=this;return b(this,function(o){switch(o.label){case 0:return[4,this.loadingCtrl.create({message:"Please wait..."})];case 1:return n=o.sent(),[4,this.toastCtrl.create({message:"Image was updated successfully",duration:3e3})];case 2:return u=o.sent(),this.presentLoading(n),t=this.webview.convertFileSrc(l),e=Math.random().toString(36).substr(2,5),this.firebaseService.uploadImage(t,e).then(function(l){i.image=l,n.dismiss(),u.present()},function(l){console.log(l)}),[2]}})})},l.prototype.presentLoading=function(l){return s(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,l.present()];case 1:return[2,n.sent()]}})})},l}(),p=function(){return function(){}}(),g=u("pMnS"),d=u("oBZk"),f=u("ZYCi"),h=t.nb({encapsulation:0,styles:[[".submit-btn[_ngcontent-%COMP%]{margin-top:40px}"]],data:{}});function m(l){return t.Eb(0,[(l()(),t.pb(0,0,null,null,11,"ion-header",[],null,null,null,d.y,d.h)),t.ob(1,49152,null,0,o.B,[t.h,t.k,t.z],null,null),(l()(),t.pb(2,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,d.H,d.q)),t.ob(3,49152,null,0,o.Cb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,d.u,d.d)),t.ob(5,49152,null,0,o.l,[t.h,t.k,t.z],null,null),(l()(),t.pb(6,0,null,0,2,"ion-back-button",[["defaultHref","home"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.yb(l,8).onClick(u)&&e),e},d.s,d.b)),t.ob(7,49152,null,0,o.g,[t.h,t.k,t.z],{defaultHref:[0,"defaultHref"]},null),t.ob(8,16384,null,0,o.h,[[2,o.ib],o.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),t.pb(9,0,null,0,2,"ion-title",[],null,null,null,d.G,d.p)),t.ob(10,49152,null,0,o.Ab,[t.h,t.k,t.z],null,null),(l()(),t.Db(-1,0,["New Task"])),(l()(),t.pb(12,0,null,null,49,"ion-content",[["padding",""]],null,null,null,d.w,d.f)),t.ob(13,49152,null,0,o.u,[t.h,t.k,t.z],null,null),t.ob(14,16384,null,0,o.d,[t.k],null,null),(l()(),t.pb(15,0,null,0,14,"div",[],null,null,null,null,null)),(l()(),t.pb(16,0,null,null,5,"ion-row",[["no-padding",""]],null,null,null,d.E,d.n)),t.ob(17,49152,null,0,o.jb,[t.h,t.k,t.z],null,null),t.ob(18,16384,null,0,o.d,[t.k],null,null),(l()(),t.pb(19,0,null,0,2,"ion-col",[["offset","3"],["size","6"]],null,null,null,d.v,d.e)),t.ob(20,49152,null,0,o.t,[t.h,t.k,t.z],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),t.pb(21,0,null,0,0,"img",[["alt","this is the image"]],[[8,"src",4]],null,null,null,null)),(l()(),t.pb(22,0,null,null,7,"ion-row",[["no-padding",""]],null,null,null,d.E,d.n)),t.ob(23,49152,null,0,o.jb,[t.h,t.k,t.z],null,null),t.ob(24,16384,null,0,o.d,[t.k],null,null),(l()(),t.pb(25,0,null,0,4,"ion-col",[["offset","3"],["size","6"]],null,null,null,d.v,d.e)),t.ob(26,49152,null,0,o.t,[t.h,t.k,t.z],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),t.pb(27,0,null,0,2,"ion-button",[["expand","block"],["fill","outline"],["size","small"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.openImagePicker()&&t),t},d.t,d.c)),t.ob(28,49152,null,0,o.k,[t.h,t.k,t.z],{expand:[0,"expand"],fill:[1,"fill"],size:[2,"size"]},null),(l()(),t.Db(-1,0,["Change Picture"])),(l()(),t.pb(30,0,null,0,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.yb(l,32).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.yb(l,32).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.onSubmit(i.validations_form.value)&&e),e},null,null)),t.ob(31,16384,null,0,i.n,[],null,null),t.ob(32,540672,null,0,i.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Ab(2048,null,i.a,null,[i.e]),t.ob(34,16384,null,0,i.j,[[4,i.a]],null,null),(l()(),t.pb(35,0,null,null,11,"ion-item",[],null,null,null,d.B,d.k)),t.ob(36,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(l()(),t.pb(37,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,d.C,d.l)),t.ob(38,49152,null,0,o.N,[t.h,t.k,t.z],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Db(-1,0,["Title"])),(l()(),t.pb(40,0,null,0,6,"ion-input",[["formControlName","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.yb(l,41)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.yb(l,41)._handleInputEvent(u.target)&&e),e},d.A,d.j)),t.ob(41,16384,null,0,o.Mb,[t.k],null,null),t.Ab(1024,null,i.g,function(l){return[l]},[o.Mb]),t.ob(43,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.g],[2,i.p]],{name:[0,"name"]},null),t.Ab(2048,null,i.h,null,[i.d]),t.ob(45,16384,null,0,i.i,[[4,i.h]],null,null),t.ob(46,49152,null,0,o.G,[t.h,t.k,t.z],{type:[0,"type"]},null),(l()(),t.pb(47,0,null,null,11,"ion-item",[],null,null,null,d.B,d.k)),t.ob(48,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(l()(),t.pb(49,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,d.C,d.l)),t.ob(50,49152,null,0,o.N,[t.h,t.k,t.z],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Db(-1,0,["Description"])),(l()(),t.pb(52,0,null,0,6,"ion-input",[["formControlName","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.yb(l,53)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.yb(l,53)._handleInputEvent(u.target)&&e),e},d.A,d.j)),t.ob(53,16384,null,0,o.Mb,[t.k],null,null),t.Ab(1024,null,i.g,function(l){return[l]},[o.Mb]),t.ob(55,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.g],[2,i.p]],{name:[0,"name"]},null),t.Ab(2048,null,i.h,null,[i.d]),t.ob(57,16384,null,0,i.i,[[4,i.h]],null,null),t.ob(58,49152,null,0,o.G,[t.h,t.k,t.z],{type:[0,"type"]},null),(l()(),t.pb(59,0,null,null,2,"ion-button",[["class","submit-btn"],["expand","block"],["type","submit"]],null,null,null,d.t,d.c)),t.ob(60,49152,null,0,o.k,[t.h,t.k,t.z],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),t.Db(-1,0,["Create"]))],function(l,n){var u=n.component;l(n,3,0,"primary"),l(n,7,0,"home"),l(n,8,0,"home"),l(n,20,0,"3","6"),l(n,26,0,"3","6"),l(n,28,0,"block","outline","small"),l(n,32,0,u.validations_form),l(n,38,0,"primary","floating"),l(n,43,0,"title"),l(n,46,0,"text"),l(n,50,0,"primary","floating"),l(n,55,0,"description"),l(n,58,0,"text"),l(n,60,0,!u.validations_form.valid,"block","submit")},function(l,n){l(n,21,0,n.component.image),l(n,30,0,t.yb(n,34).ngClassUntouched,t.yb(n,34).ngClassTouched,t.yb(n,34).ngClassPristine,t.yb(n,34).ngClassDirty,t.yb(n,34).ngClassValid,t.yb(n,34).ngClassInvalid,t.yb(n,34).ngClassPending),l(n,40,0,t.yb(n,45).ngClassUntouched,t.yb(n,45).ngClassTouched,t.yb(n,45).ngClassPristine,t.yb(n,45).ngClassDirty,t.yb(n,45).ngClassValid,t.yb(n,45).ngClassInvalid,t.yb(n,45).ngClassPending),l(n,52,0,t.yb(n,57).ngClassUntouched,t.yb(n,57).ngClassTouched,t.yb(n,57).ngClassPristine,t.yb(n,57).ngClassDirty,t.yb(n,57).ngClassValid,t.yb(n,57).ngClassInvalid,t.yb(n,57).ngClassPending)})}function y(l){return t.Eb(0,[(l()(),t.pb(0,0,null,null,1,"app-new-task",[],null,null,null,m,h)),t.ob(1,114688,null,0,c,[r.a,o.Nb,o.Gb,f.m,i.b,e.a,a.a],null,null)],function(l,n){l(n,1,0)},null)}var k=t.lb("app-new-task",c,y,{},{},[]),v=u("Ip0R");u.d(n,"NewTaskPageModuleNgFactory",function(){return w});var w=t.mb(p,[],function(l){return t.vb([t.wb(512,t.j,t.bb,[[8,[g.a,k]],[3,t.j],t.x]),t.wb(4608,v.k,v.j,[t.u,[2,v.r]]),t.wb(4608,i.o,i.o,[]),t.wb(4608,i.b,i.b,[]),t.wb(4608,o.b,o.b,[t.z,t.g]),t.wb(4608,o.Hb,o.Hb,[o.b,t.j,t.q]),t.wb(4608,o.Kb,o.Kb,[o.b,t.j,t.q]),t.wb(4608,v.f,v.f,[v.g]),t.wb(1073742336,v.b,v.b,[]),t.wb(1073742336,i.m,i.m,[]),t.wb(1073742336,i.f,i.f,[]),t.wb(1073742336,i.k,i.k,[]),t.wb(1073742336,o.Eb,o.Eb,[]),t.wb(1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),t.wb(1073742336,p,p,[]),t.wb(1024,f.k,function(){return[[{path:"",component:c}]]},[])])})}}]);